{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Ucenik } from '../models/ucenik';\nimport { Korisnik } from '../models/korisnik';\nexport let UcenikProfilComponent = class UcenikProfilComponent {\n  constructor(ucenikService, router) {\n    this.ucenikService = ucenikService;\n    this.router = router;\n    this.uIme = \"\";\n    this.uPrezime = \"\";\n    this.uAdresa = \"\";\n    this.uTelefon = \"\";\n    this.uEmail = \"\";\n    this.uSlika = \"../../assets/defaultProfilePicture2.jpg\";\n    this.uSlikaFajl = null;\n    this.uTipSkole = \"\";\n    this.uRazred = 0;\n    this.korisnik = new Korisnik();\n    this.ucenik = new Ucenik();\n  }\n  ngOnInit() {\n    let logovani = localStorage.getItem(\"logovaniKorisnik\");\n    if (logovani != null) {\n      this.korisnik = JSON.parse(logovani);\n      this.dohvatiUcenika(this.korisnik);\n    }\n  }\n  dohvatiUcenika(k) {\n    this.ucenikService.dohvatiUcenika(k).subscribe(data => {\n      if (data != null) {\n        this.ucenik = data;\n      }\n    });\n  }\n  izmeniIme() {\n    this.ucenikService.izmeniIme(this.ucenik.korIme, this.uIme).subscribe(data => {\n      if (data != null) {\n        this.dohvatiUcenika(this.korisnik);\n      } else {\n        alert(\"Nije izmenjeno. \");\n      }\n    });\n  }\n  izmeniPrezime() {\n    this.ucenikService.izmeniPrezime(this.ucenik.korIme, this.uPrezime).subscribe(data => {\n      if (data != null) {\n        this.dohvatiUcenika(this.korisnik);\n      } else {\n        alert(\"Nije izmenjeno. \");\n      }\n    });\n  }\n  izmeniAdresu() {\n    this.ucenikService.izmeniAdresu(this.ucenik.korIme, this.uAdresa).subscribe(data => {\n      if (data != null) {\n        this.dohvatiUcenika(this.korisnik);\n      } else {\n        alert(\"Nije izmenjeno. \");\n      }\n    });\n  }\n  izmeniTelefon() {\n    this.ucenikService.izmeniTelefon(this.ucenik.korIme, this.uTelefon).subscribe(data => {\n      if (data != null) {\n        this.dohvatiUcenika(this.korisnik);\n      } else {\n        alert(\"Nije izmenjeno. \");\n      }\n    });\n  }\n  izmeniEmail() {\n    this.ucenikService.izmeniEmail(this.ucenik.korIme, this.uEmail).subscribe(data => {\n      if (data != null) {\n        this.dohvatiUcenika(this.korisnik);\n      } else {\n        alert(\"Nije izmenjeno. \");\n      }\n    });\n  }\n  izmeniSliku(urlSlike) {\n    this.ucenikService.izmeniSliku(this.ucenik.korIme, urlSlike).subscribe(data => {\n      if (data != null) {\n        this.dohvatiUcenika(this.korisnik);\n      } else {\n        alert(\"Nije izmenjeno. \");\n      }\n    });\n  }\n  izmeniTipSkole() {\n    this.ucenikService.izmeniTipSkole(this.ucenik.korIme).subscribe(data => {\n      if (data != null) {\n        this.dohvatiUcenika(this.korisnik);\n      } else {\n        alert(\"Nije izmenjeno. \");\n      }\n    });\n  }\n  izmeniRazred() {\n    this.ucenikService.izmeniRazred(this.ucenik.korIme).subscribe(data => {\n      if (data != null) {\n        this.dohvatiUcenika(this.korisnik);\n      } else {\n        alert(\"Nije izmenjeno. \");\n      }\n    });\n  }\n  izabranaSlika(event) {\n    this.uSlikaFajl = event.target.files[0];\n    let slikaTemp = new Image();\n    slikaTemp.src = URL.createObjectURL(event.target.files[0]);\n    let tempUrl = this.uSlika;\n    slikaTemp.onload = function () {\n      if (slikaTemp.width >= 100 && slikaTemp.width <= 300 && slikaTemp.height >= 100 && slikaTemp.height <= 300) {\n        if (event.target.files[0].size) {\n          tempUrl = URL.createObjectURL(event.target.files[0]);\n        }\n      }\n    };\n    this.uSlika = tempUrl;\n    this.izmeniSliku(this.uSlika);\n  }\n  profilStr(event) {}\n  nastavniciStr(event) {}\n  casoviStr(event) {}\n};\nUcenikProfilComponent = __decorate([Component({\n  selector: 'app-ucenik-profil',\n  templateUrl: './ucenik-profil.component.html',\n  styleUrls: ['./ucenik-profil.component.css']\n})], UcenikProfilComponent);","map":{"version":3,"names":["Component","Ucenik","Korisnik","UcenikProfilComponent","constructor","ucenikService","router","uIme","uPrezime","uAdresa","uTelefon","uEmail","uSlika","uSlikaFajl","uTipSkole","uRazred","korisnik","ucenik","ngOnInit","logovani","localStorage","getItem","JSON","parse","dohvatiUcenika","k","subscribe","data","izmeniIme","korIme","alert","izmeniPrezime","izmeniAdresu","izmeniTelefon","izmeniEmail","izmeniSliku","urlSlike","izmeniTipSkole","izmeniRazred","izabranaSlika","event","target","files","slikaTemp","Image","src","URL","createObjectURL","tempUrl","onload","width","height","size","profilStr","nastavniciStr","casoviStr","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Ana\\Desktop\\7.SEMESTAR\\pia\\projekat\\frontend\\src\\app\\ucenik-profil\\ucenik-profil.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Ucenik } from '../models/ucenik';\nimport { Korisnik } from '../models/korisnik';\nimport { UcenikService } from '../services/ucenik.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-ucenik-profil',\n  templateUrl: './ucenik-profil.component.html',\n  styleUrls: ['./ucenik-profil.component.css']\n})\nexport class UcenikProfilComponent implements OnInit {\n\n  constructor(private ucenikService : UcenikService, private router : Router) {}\n\n  uIme : string = \"\"\n  uPrezime : string = \"\"\n  uAdresa : string = \"\"\n  uTelefon : string = \"\"\n  uEmail : string = \"\"\n  uSlika : string = \"../../assets/defaultProfilePicture2.jpg\"\n  uSlikaFajl : File | null = null\n  uTipSkole : string = \"\"\n  uRazred : number = 0\n\n  korisnik : Korisnik = new Korisnik()\n  ucenik : Ucenik = new Ucenik()\n\n  ngOnInit(): void {\n    let logovani = localStorage.getItem(\"logovaniKorisnik\")\n    if (logovani != null) {\n      this.korisnik = JSON.parse(logovani);\n      this.dohvatiUcenika(this.korisnik)\n    }\n  }\n\n  dohvatiUcenika(k : Korisnik) {\n    this.ucenikService.dohvatiUcenika(k).subscribe(\n      data => {\n        if (data != null) {\n          this.ucenik = data;\n        }\n      }\n    )\n  }\n\n  izmeniIme() {\n    this.ucenikService.izmeniIme(this.ucenik.korIme, this.uIme).subscribe(\n      data => {\n        if (data != null) {\n          this.dohvatiUcenika(this.korisnik)\n        }\n        else {\n          alert(\"Nije izmenjeno. \")\n        }\n      }\n    )\n  }\n\n  izmeniPrezime() {\n    this.ucenikService.izmeniPrezime(this.ucenik.korIme, this.uPrezime).subscribe(\n      data => {\n        if (data != null) {\n          this.dohvatiUcenika(this.korisnik)\n        }\n        else {\n          alert(\"Nije izmenjeno. \")\n        }\n      }\n    )\n  }\n\n  izmeniAdresu() {\n    this.ucenikService.izmeniAdresu(this.ucenik.korIme, this.uAdresa).subscribe(\n      data => {\n        if (data != null) {\n          this.dohvatiUcenika(this.korisnik)\n        }\n        else {\n          alert(\"Nije izmenjeno. \")\n        }\n      }\n    )\n  }\n\n  izmeniTelefon() {\n    this.ucenikService.izmeniTelefon(this.ucenik.korIme, this.uTelefon).subscribe(\n      data => {\n        if (data != null) {\n          this.dohvatiUcenika(this.korisnik)\n        }\n        else {\n          alert(\"Nije izmenjeno. \")\n        }\n      }\n    )\n  }\n\n  izmeniEmail() {\n    this.ucenikService.izmeniEmail(this.ucenik.korIme, this.uEmail).subscribe(\n      data => {\n        if (data != null) {\n          this.dohvatiUcenika(this.korisnik)\n        }\n        else {\n          alert(\"Nije izmenjeno. \")\n        }\n      }\n    )\n  }\n\n  izmeniSliku(urlSlike : string) {\n    this.ucenikService.izmeniSliku(this.ucenik.korIme, urlSlike).subscribe(\n      data => {\n        if (data != null) {\n          this.dohvatiUcenika(this.korisnik)\n        }\n        else {\n          alert(\"Nije izmenjeno. \")\n        }\n      }\n    )\n  }\n\n  izmeniTipSkole() {\n    this.ucenikService.izmeniTipSkole(this.ucenik.korIme).subscribe(\n      data => {\n        if (data != null) {\n          this.dohvatiUcenika(this.korisnik)\n        }\n        else {\n          alert(\"Nije izmenjeno. \")\n        }\n      }\n    )\n  }\n\n  izmeniRazred() {\n    this.ucenikService.izmeniRazred(this.ucenik.korIme).subscribe(\n      data => {\n        if (data != null) {\n          this.dohvatiUcenika(this.korisnik)\n        }\n        else {\n          alert(\"Nije izmenjeno. \")\n        }\n      }\n    )\n  }\n\n  izabranaSlika(event : any) {\n    this.uSlikaFajl = event.target.files[0];\n\n    let slikaTemp = new Image();\n    slikaTemp.src = URL.createObjectURL(event.target.files[0]);\n\n    let tempUrl = this.uSlika;\n\n    slikaTemp.onload = function() {\n\n      if (slikaTemp.width >= 100 && slikaTemp.width <= 300 && slikaTemp.height >= 100 && slikaTemp.height <= 300) {\n        if (event.target.files[0].size) {\n          tempUrl = URL.createObjectURL(event.target.files[0]);\n        }\n      }\n\n    }\n\n    this.uSlika = tempUrl;\n    this.izmeniSliku(this.uSlika);\n  }\n\n\n  profilStr(event : Event) {\n\n  }\n\n  nastavniciStr(event : Event) {\n\n  }\n\n  casoviStr(event : Event) {\n\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}