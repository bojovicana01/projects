{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Korisnik } from '../models/korisnik';\nimport { Ucenik } from '../models/ucenik';\nexport let UcenikCasoviComponent = class UcenikCasoviComponent {\n  constructor(ucenikService, universalService, router) {\n    this.ucenikService = ucenikService;\n    this.universalService = universalService;\n    this.router = router;\n    this.korisnik = new Korisnik();\n    this.ucenik = new Ucenik();\n    this.casoviUcenik = [];\n    this.casoviUcenikOdrzani = [];\n    this.casoviUcenikPredstojeci = [];\n  }\n  ngOnInit() {\n    let logovani = localStorage.getItem(\"logovaniKorisnik\");\n    if (logovani != null) {\n      this.korisnik = JSON.parse(logovani);\n      this.dohvatiUcenika(this.korisnik);\n    }\n  }\n  dohvatiUcenika(k) {\n    this.universalService.dohvatiUcenika(k.korIme).subscribe(data => {\n      if (data != null) {\n        this.ucenik = data;\n        this.dohvUcenikCasovi();\n      } else {\n        console.log(\"Greska. \");\n      }\n    });\n  }\n  dohvatiNastavnika(kin) {\n    this.universalService.dohvatiNastavnika(kin).subscribe(data => {\n      if (data != null) {\n        return data.ime + \" \" + data.prezime;\n      } else {\n        console.log(\"Greska. \");\n        return \"\";\n      }\n    });\n    return \"1\";\n  }\n  dohvUcenikCasovi() {\n    this.ucenikService.dohvUcenikCasovi(this.ucenik.korIme).subscribe(data => {\n      if (data != null) {\n        this.casoviUcenik = data;\n        this.casoviUcenikOdrzani = this.casoviUcenik.filter(el => el.flagOdrzan == true && el.flagPotvrda == 1 && el.flagOtkazan == false);\n        this.casoviUcenikPredstojeci = this.casoviUcenik.filter(el => el.flagOdrzan == false && el.flagPotvrda == 1 && el.flagOtkazan == false);\n        this.casoviUcenikOdrzani = this.casoviUcenikOdrzani.map(el => {\n          return {\n            nastavnik: el.nastavnik,\n            ucenik: el.ucenik,\n            predmet: el.predmet,\n            opisTemeCasa: el.opisTemeCasa,\n            datumVreme: new Date(el.datumVremeInput),\n            datumVremeInput: el.datumVremeInput,\n            dupliCas: el.dupliCas,\n            flagPotvrda: el.flagPotvrda,\n            obrazlozenjeOdbijen: el.obrazlozenjeOdbijen,\n            flagOdrzan: el.flagOdrzan,\n            flagOtkazan: el.flagOtkazan,\n            obrazlozenjeOtkazan: el.obrazlozenjeOtkazan,\n            komentarNastavnika: el.komentarNastavnika,\n            komentarUcenika: el.komentarUcenika,\n            ocenaZaUcenika: el.ocenaZaUcenika,\n            ocenaZaNastavnika: el.ocenaZaNastavnika\n          };\n        });\n        this.casoviUcenikPredstojeci = this.casoviUcenikPredstojeci.map(el => {\n          return {\n            nastavnik: el.nastavnik,\n            ucenik: el.ucenik,\n            predmet: el.predmet,\n            opisTemeCasa: el.opisTemeCasa,\n            datumVreme: new Date(el.datumVremeInput),\n            datumVremeInput: el.datumVremeInput,\n            dupliCas: el.dupliCas,\n            flagPotvrda: el.flagPotvrda,\n            obrazlozenjeOdbijen: el.obrazlozenjeOdbijen,\n            flagOdrzan: el.flagOdrzan,\n            flagOtkazan: el.flagOtkazan,\n            obrazlozenjeOtkazan: el.obrazlozenjeOtkazan,\n            komentarNastavnika: el.komentarNastavnika,\n            komentarUcenika: el.komentarUcenika,\n            ocenaZaUcenika: el.ocenaZaUcenika,\n            ocenaZaNastavnika: el.ocenaZaNastavnika\n          };\n        });\n        this.casoviUcenikOdrzani.sort((a, b) => new Date(a.datumVremeInput) < new Date(b.datumVremeInput) ? -1 : 1);\n      } else {\n        console.log(\"Greska. \");\n      }\n    });\n  }\n  /*\n  const modifiedArray = originalArray.map(item => {\n    // Modify the object properties here\n    return {\n        id: item.id,\n        name: item.name.toUpperCase() // Example modification: Convert name to uppercase\n    };\n  */\n  profilStr(event) {\n    event.preventDefault();\n    localStorage.setItem(\"logovaniKorisnik\", JSON.stringify(this.korisnik));\n    this.router.navigate(['ucenikProfil']);\n  }\n  nastavniciStr(event) {\n    event.preventDefault();\n    localStorage.setItem(\"logovaniKorisnik\", JSON.stringify(this.korisnik));\n    this.router.navigate(['ucenikNastavnici']);\n  }\n  casoviStr(event) {\n    event.preventDefault();\n    localStorage.setItem(\"logovaniKorisnik\", JSON.stringify(this.korisnik));\n    this.router.navigate(['ucenikCasovi']);\n  }\n  obavestenjaStr(event) {\n    event.preventDefault();\n    localStorage.setItem(\"logovaniKorisnik\", JSON.stringify(this.korisnik));\n    this.router.navigate(['ucenikObavestenja']);\n  }\n};\nUcenikCasoviComponent = __decorate([Component({\n  selector: 'app-ucenik-casovi',\n  templateUrl: './ucenik-casovi.component.html',\n  styleUrls: ['./ucenik-casovi.component.css']\n})], UcenikCasoviComponent);","map":{"version":3,"names":["Component","Korisnik","Ucenik","UcenikCasoviComponent","constructor","ucenikService","universalService","router","korisnik","ucenik","casoviUcenik","casoviUcenikOdrzani","casoviUcenikPredstojeci","ngOnInit","logovani","localStorage","getItem","JSON","parse","dohvatiUcenika","k","korIme","subscribe","data","dohvUcenikCasovi","console","log","dohvatiNastavnika","kin","ime","prezime","filter","el","flagOdrzan","flagPotvrda","flagOtkazan","map","nastavnik","predmet","opisTemeCasa","datumVreme","Date","datumVremeInput","dupliCas","obrazlozenjeOdbijen","obrazlozenjeOtkazan","komentarNastavnika","komentarUcenika","ocenaZaUcenika","ocenaZaNastavnika","sort","a","b","profilStr","event","preventDefault","setItem","stringify","navigate","nastavniciStr","casoviStr","obavestenjaStr","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Ana\\Desktop\\7.SEMESTAR\\pia\\projekat\\frontend\\src\\app\\ucenik-casovi\\ucenik-casovi.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { UcenikService } from '../services/ucenik.service';\nimport { Router } from '@angular/router';\nimport { Korisnik } from '../models/korisnik';\nimport { Ucenik } from '../models/ucenik';\nimport { Cas } from '../models/cas';\nimport { UniversalService } from '../services/universal.service';\n\n@Component({\n  selector: 'app-ucenik-casovi',\n  templateUrl: './ucenik-casovi.component.html',\n  styleUrls: ['./ucenik-casovi.component.css']\n})\nexport class UcenikCasoviComponent implements OnInit {\n\n  constructor(private ucenikService : UcenikService, private universalService : UniversalService, private router : Router) {}\n\n  korisnik : Korisnik = new Korisnik()\n  ucenik : Ucenik = new Ucenik()\n  casoviUcenik : Cas[] = []\n  casoviUcenikOdrzani : Cas[] = []\n  casoviUcenikPredstojeci : Cas[] = []\n\n  ngOnInit(): void {\n    let logovani = localStorage.getItem(\"logovaniKorisnik\")\n    if (logovani != null) {\n      this.korisnik = JSON.parse(logovani)\n      this.dohvatiUcenika(this.korisnik)\n    }\n  }\n\n  dohvatiUcenika(k : Korisnik) {\n    this.universalService.dohvatiUcenika(k.korIme).subscribe(\n      data => {\n        if (data != null) {\n          this.ucenik = data;\n          this.dohvUcenikCasovi()\n        }\n        else {\n          console.log(\"Greska. \")\n        }\n      }\n    )\n  }\n\n  dohvatiNastavnika(kin: any) : string {\n    this.universalService.dohvatiNastavnika(kin).subscribe(\n      data => {\n        if (data != null) {\n          return (data.ime + \" \" + data.prezime)\n        }\n        else {\n          console.log(\"Greska. \")\n          return \"\"\n        }\n      }\n    )\n    return \"1\"\n  }\n\n  dohvUcenikCasovi() {\n    this.ucenikService.dohvUcenikCasovi(this.ucenik.korIme).subscribe(\n      data => {\n        if (data != null) {\n          this.casoviUcenik = data\n          this.casoviUcenikOdrzani = this.casoviUcenik.filter(el => el.flagOdrzan == true && el.flagPotvrda == 1 && el.flagOtkazan == false)\n          this.casoviUcenikPredstojeci = this.casoviUcenik.filter(el => el.flagOdrzan == false && el.flagPotvrda == 1 && el.flagOtkazan == false)\n\n          this.casoviUcenikOdrzani = this.casoviUcenikOdrzani.map(el => {\n            return {\n              nastavnik : el.nastavnik, \n              ucenik : el.ucenik, \n              predmet : el.predmet, \n              opisTemeCasa : el.opisTemeCasa, \n              datumVreme : new Date(el.datumVremeInput), \n              datumVremeInput : el.datumVremeInput, \n              dupliCas : el.dupliCas, \n              flagPotvrda : el.flagPotvrda, \n              obrazlozenjeOdbijen : el.obrazlozenjeOdbijen, \n              flagOdrzan : el.flagOdrzan, \n              flagOtkazan : el.flagOtkazan, \n              obrazlozenjeOtkazan : el.obrazlozenjeOtkazan, \n              komentarNastavnika : el.komentarNastavnika, \n              komentarUcenika : el.komentarUcenika, \n              ocenaZaUcenika : el.ocenaZaUcenika, \n              ocenaZaNastavnika : el.ocenaZaNastavnika\n            }\n          })\n\n          this.casoviUcenikPredstojeci = this.casoviUcenikPredstojeci.map(el => {\n            return {\n              nastavnik : el.nastavnik, \n              ucenik : el.ucenik, \n              predmet : el.predmet, \n              opisTemeCasa : el.opisTemeCasa, \n              datumVreme : new Date(el.datumVremeInput), \n              datumVremeInput : el.datumVremeInput, \n              dupliCas : el.dupliCas, \n              flagPotvrda : el.flagPotvrda, \n              obrazlozenjeOdbijen : el.obrazlozenjeOdbijen, \n              flagOdrzan : el.flagOdrzan, \n              flagOtkazan : el.flagOtkazan, \n              obrazlozenjeOtkazan : el.obrazlozenjeOtkazan, \n              komentarNastavnika : el.komentarNastavnika, \n              komentarUcenika : el.komentarUcenika, \n              ocenaZaUcenika : el.ocenaZaUcenika, \n              ocenaZaNastavnika : el.ocenaZaNastavnika\n            }\n          })\n\n          this.casoviUcenikOdrzani.sort((a, b) => (new Date(a.datumVremeInput) < new Date(b.datumVremeInput)) ? -1 : 1)\n        }\n        else {\n          console.log(\"Greska. \")\n        }\n      }\n    )\n  }\n\n  /*\n  const modifiedArray = originalArray.map(item => {\n    // Modify the object properties here\n    return {\n        id: item.id,\n        name: item.name.toUpperCase() // Example modification: Convert name to uppercase\n    };\n  */\n\n  profilStr(event : Event) {\n    event.preventDefault()\n    localStorage.setItem(\"logovaniKorisnik\", JSON.stringify(this.korisnik))\n    this.router.navigate(['ucenikProfil'])\n  }\n\n  nastavniciStr(event : Event) {\n    event.preventDefault()\n    localStorage.setItem(\"logovaniKorisnik\", JSON.stringify(this.korisnik))\n    this.router.navigate(['ucenikNastavnici'])\n  }\n\n  casoviStr(event : Event) {\n    event.preventDefault()\n    localStorage.setItem(\"logovaniKorisnik\", JSON.stringify(this.korisnik))\n    this.router.navigate(['ucenikCasovi'])\n  }\n\n  obavestenjaStr(event : Event) {\n    event.preventDefault()\n    localStorage.setItem(\"logovaniKorisnik\", JSON.stringify(this.korisnik))\n    this.router.navigate(['ucenikObavestenja'])\n  }\n\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAGjD,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,SAASC,MAAM,QAAQ,kBAAkB;AASlC,WAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAEhCC,YAAoBC,aAA6B,EAAUC,gBAAmC,EAAUC,MAAe;IAAnG,KAAAF,aAAa,GAAbA,aAAa;IAA0B,KAAAC,gBAAgB,GAAhBA,gBAAgB;IAA6B,KAAAC,MAAM,GAANA,MAAM;IAE9G,KAAAC,QAAQ,GAAc,IAAIP,QAAQ,EAAE;IACpC,KAAAQ,MAAM,GAAY,IAAIP,MAAM,EAAE;IAC9B,KAAAQ,YAAY,GAAW,EAAE;IACzB,KAAAC,mBAAmB,GAAW,EAAE;IAChC,KAAAC,uBAAuB,GAAW,EAAE;EANsF;EAQ1HC,QAAQA,CAAA;IACN,IAAIC,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,kBAAkB,CAAC;IACvD,IAAIF,QAAQ,IAAI,IAAI,EAAE;MACpB,IAAI,CAACN,QAAQ,GAAGS,IAAI,CAACC,KAAK,CAACJ,QAAQ,CAAC;MACpC,IAAI,CAACK,cAAc,CAAC,IAAI,CAACX,QAAQ,CAAC;;EAEtC;EAEAW,cAAcA,CAACC,CAAY;IACzB,IAAI,CAACd,gBAAgB,CAACa,cAAc,CAACC,CAAC,CAACC,MAAM,CAAC,CAACC,SAAS,CACtDC,IAAI,IAAG;MACL,IAAIA,IAAI,IAAI,IAAI,EAAE;QAChB,IAAI,CAACd,MAAM,GAAGc,IAAI;QAClB,IAAI,CAACC,gBAAgB,EAAE;OACxB,MACI;QACHC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;;IAE3B,CAAC,CACF;EACH;EAEAC,iBAAiBA,CAACC,GAAQ;IACxB,IAAI,CAACtB,gBAAgB,CAACqB,iBAAiB,CAACC,GAAG,CAAC,CAACN,SAAS,CACpDC,IAAI,IAAG;MACL,IAAIA,IAAI,IAAI,IAAI,EAAE;QAChB,OAAQA,IAAI,CAACM,GAAG,GAAG,GAAG,GAAGN,IAAI,CAACO,OAAO;OACtC,MACI;QACHL,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;QACvB,OAAO,EAAE;;IAEb,CAAC,CACF;IACD,OAAO,GAAG;EACZ;EAEAF,gBAAgBA,CAAA;IACd,IAAI,CAACnB,aAAa,CAACmB,gBAAgB,CAAC,IAAI,CAACf,MAAM,CAACY,MAAM,CAAC,CAACC,SAAS,CAC/DC,IAAI,IAAG;MACL,IAAIA,IAAI,IAAI,IAAI,EAAE;QAChB,IAAI,CAACb,YAAY,GAAGa,IAAI;QACxB,IAAI,CAACZ,mBAAmB,GAAG,IAAI,CAACD,YAAY,CAACqB,MAAM,CAACC,EAAE,IAAIA,EAAE,CAACC,UAAU,IAAI,IAAI,IAAID,EAAE,CAACE,WAAW,IAAI,CAAC,IAAIF,EAAE,CAACG,WAAW,IAAI,KAAK,CAAC;QAClI,IAAI,CAACvB,uBAAuB,GAAG,IAAI,CAACF,YAAY,CAACqB,MAAM,CAACC,EAAE,IAAIA,EAAE,CAACC,UAAU,IAAI,KAAK,IAAID,EAAE,CAACE,WAAW,IAAI,CAAC,IAAIF,EAAE,CAACG,WAAW,IAAI,KAAK,CAAC;QAEvI,IAAI,CAACxB,mBAAmB,GAAG,IAAI,CAACA,mBAAmB,CAACyB,GAAG,CAACJ,EAAE,IAAG;UAC3D,OAAO;YACLK,SAAS,EAAGL,EAAE,CAACK,SAAS;YACxB5B,MAAM,EAAGuB,EAAE,CAACvB,MAAM;YAClB6B,OAAO,EAAGN,EAAE,CAACM,OAAO;YACpBC,YAAY,EAAGP,EAAE,CAACO,YAAY;YAC9BC,UAAU,EAAG,IAAIC,IAAI,CAACT,EAAE,CAACU,eAAe,CAAC;YACzCA,eAAe,EAAGV,EAAE,CAACU,eAAe;YACpCC,QAAQ,EAAGX,EAAE,CAACW,QAAQ;YACtBT,WAAW,EAAGF,EAAE,CAACE,WAAW;YAC5BU,mBAAmB,EAAGZ,EAAE,CAACY,mBAAmB;YAC5CX,UAAU,EAAGD,EAAE,CAACC,UAAU;YAC1BE,WAAW,EAAGH,EAAE,CAACG,WAAW;YAC5BU,mBAAmB,EAAGb,EAAE,CAACa,mBAAmB;YAC5CC,kBAAkB,EAAGd,EAAE,CAACc,kBAAkB;YAC1CC,eAAe,EAAGf,EAAE,CAACe,eAAe;YACpCC,cAAc,EAAGhB,EAAE,CAACgB,cAAc;YAClCC,iBAAiB,EAAGjB,EAAE,CAACiB;WACxB;QACH,CAAC,CAAC;QAEF,IAAI,CAACrC,uBAAuB,GAAG,IAAI,CAACA,uBAAuB,CAACwB,GAAG,CAACJ,EAAE,IAAG;UACnE,OAAO;YACLK,SAAS,EAAGL,EAAE,CAACK,SAAS;YACxB5B,MAAM,EAAGuB,EAAE,CAACvB,MAAM;YAClB6B,OAAO,EAAGN,EAAE,CAACM,OAAO;YACpBC,YAAY,EAAGP,EAAE,CAACO,YAAY;YAC9BC,UAAU,EAAG,IAAIC,IAAI,CAACT,EAAE,CAACU,eAAe,CAAC;YACzCA,eAAe,EAAGV,EAAE,CAACU,eAAe;YACpCC,QAAQ,EAAGX,EAAE,CAACW,QAAQ;YACtBT,WAAW,EAAGF,EAAE,CAACE,WAAW;YAC5BU,mBAAmB,EAAGZ,EAAE,CAACY,mBAAmB;YAC5CX,UAAU,EAAGD,EAAE,CAACC,UAAU;YAC1BE,WAAW,EAAGH,EAAE,CAACG,WAAW;YAC5BU,mBAAmB,EAAGb,EAAE,CAACa,mBAAmB;YAC5CC,kBAAkB,EAAGd,EAAE,CAACc,kBAAkB;YAC1CC,eAAe,EAAGf,EAAE,CAACe,eAAe;YACpCC,cAAc,EAAGhB,EAAE,CAACgB,cAAc;YAClCC,iBAAiB,EAAGjB,EAAE,CAACiB;WACxB;QACH,CAAC,CAAC;QAEF,IAAI,CAACtC,mBAAmB,CAACuC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAM,IAAIX,IAAI,CAACU,CAAC,CAACT,eAAe,CAAC,GAAG,IAAID,IAAI,CAACW,CAAC,CAACV,eAAe,CAAC,GAAI,CAAC,CAAC,GAAG,CAAC,CAAC;OAC9G,MACI;QACHjB,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;;IAE3B,CAAC,CACF;EACH;EAEA;;;;;;;;EASA2B,SAASA,CAACC,KAAa;IACrBA,KAAK,CAACC,cAAc,EAAE;IACtBxC,YAAY,CAACyC,OAAO,CAAC,kBAAkB,EAAEvC,IAAI,CAACwC,SAAS,CAAC,IAAI,CAACjD,QAAQ,CAAC,CAAC;IACvE,IAAI,CAACD,MAAM,CAACmD,QAAQ,CAAC,CAAC,cAAc,CAAC,CAAC;EACxC;EAEAC,aAAaA,CAACL,KAAa;IACzBA,KAAK,CAACC,cAAc,EAAE;IACtBxC,YAAY,CAACyC,OAAO,CAAC,kBAAkB,EAAEvC,IAAI,CAACwC,SAAS,CAAC,IAAI,CAACjD,QAAQ,CAAC,CAAC;IACvE,IAAI,CAACD,MAAM,CAACmD,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC;EAC5C;EAEAE,SAASA,CAACN,KAAa;IACrBA,KAAK,CAACC,cAAc,EAAE;IACtBxC,YAAY,CAACyC,OAAO,CAAC,kBAAkB,EAAEvC,IAAI,CAACwC,SAAS,CAAC,IAAI,CAACjD,QAAQ,CAAC,CAAC;IACvE,IAAI,CAACD,MAAM,CAACmD,QAAQ,CAAC,CAAC,cAAc,CAAC,CAAC;EACxC;EAEAG,cAAcA,CAACP,KAAa;IAC1BA,KAAK,CAACC,cAAc,EAAE;IACtBxC,YAAY,CAACyC,OAAO,CAAC,kBAAkB,EAAEvC,IAAI,CAACwC,SAAS,CAAC,IAAI,CAACjD,QAAQ,CAAC,CAAC;IACvE,IAAI,CAACD,MAAM,CAACmD,QAAQ,CAAC,CAAC,mBAAmB,CAAC,CAAC;EAC7C;CAED;AA3IYvD,qBAAqB,GAAA2D,UAAA,EALjC9D,SAAS,CAAC;EACT+D,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,+BAA+B;CAC5C,CAAC,C,EACW9D,qBAAqB,CA2IjC"},"metadata":{},"sourceType":"module","externalDependencies":[]}