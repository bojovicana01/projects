{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Korisnik } from '../models/korisnik';\nimport { Ucenik } from '../models/ucenik';\nexport let UcenikObavestenjaComponent = class UcenikObavestenjaComponent {\n  constructor(ucenikService, universalService, router) {\n    this.ucenikService = ucenikService;\n    this.universalService = universalService;\n    this.router = router;\n    this.korisnik = new Korisnik();\n    this.ucenik = new Ucenik();\n    this.ucenikObavestenja = [];\n  }\n  ngOnInit() {\n    let logovani = localStorage.getItem(\"logovaniKorisnik\");\n    if (logovani != null) {\n      this.korisnik = JSON.parse(logovani);\n      this.dohvatiUcenika(this.korisnik);\n    }\n  }\n  dohvatiUcenika(k) {\n    this.ucenikService.dohvatiUcenika(k).subscribe(data => {\n      if (data != null) {\n        this.ucenik = data;\n        this.dohvatiObavestenjaZaUcenika();\n      }\n    });\n  }\n  dohvatiObavestenjaZaUcenika() {\n    this.ucenikService.dohvatiObavestenjaZaUcenika(this.ucenik.korIme).subscribe(data => {\n      if (data != null) {\n        this.ucenikObavestenja = data;\n      }\n    });\n  }\n  promeniStatusObavestenjaUBazi(o) {\n    this.ucenikService.promeniStatusObavestenjaUBazi(o).subscribe(data => {\n      if (data != null) {\n        console.log(\"Izmenjen status obavestenja. \");\n      } else {\n        console.log(\"Greska. \");\n      }\n    });\n  }\n  profilStr(event) {\n    event.preventDefault();\n    localStorage.setItem(\"logovaniKorisnik\", JSON.stringify(this.korisnik));\n    this.router.navigate(['ucenikProfil']);\n  }\n  nastavniciStr(event) {\n    event.preventDefault();\n    localStorage.setItem(\"logovaniKorisnik\", JSON.stringify(this.korisnik));\n    this.router.navigate(['ucenikNastavnici']);\n  }\n  casoviStr(event) {\n    event.preventDefault();\n    localStorage.setItem(\"logovaniKorisnik\", JSON.stringify(this.korisnik));\n    this.router.navigate(['ucenikCasovi']);\n  }\n  obavestenjaStr(event) {\n    event.preventDefault();\n    localStorage.setItem(\"logovaniKorisnik\", JSON.stringify(this.korisnik));\n    this.router.navigate(['ucenikObavestenja']);\n  }\n};\nUcenikObavestenjaComponent = __decorate([Component({\n  selector: 'app-ucenik-obavestenja',\n  templateUrl: './ucenik-obavestenja.component.html',\n  styleUrls: ['./ucenik-obavestenja.component.css']\n})], UcenikObavestenjaComponent);","map":{"version":3,"names":["Component","Korisnik","Ucenik","UcenikObavestenjaComponent","constructor","ucenikService","universalService","router","korisnik","ucenik","ucenikObavestenja","ngOnInit","logovani","localStorage","getItem","JSON","parse","dohvatiUcenika","k","subscribe","data","dohvatiObavestenjaZaUcenika","korIme","promeniStatusObavestenjaUBazi","o","console","log","profilStr","event","preventDefault","setItem","stringify","navigate","nastavniciStr","casoviStr","obavestenjaStr","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Ana\\Desktop\\7.SEMESTAR\\pia\\projekat\\frontend\\src\\app\\ucenik-obavestenja\\ucenik-obavestenja.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { UcenikService } from '../services/ucenik.service';\nimport { UniversalService } from '../services/universal.service';\nimport { Router } from '@angular/router';\nimport { Korisnik } from '../models/korisnik';\nimport { Ucenik } from '../models/ucenik';\nimport { Obavestenje } from '../models/obavestenje';\n\n@Component({\n  selector: 'app-ucenik-obavestenja',\n  templateUrl: './ucenik-obavestenja.component.html',\n  styleUrls: ['./ucenik-obavestenja.component.css']\n})\nexport class UcenikObavestenjaComponent implements OnInit {\n\n  constructor(private ucenikService : UcenikService, private universalService : UniversalService, private router : Router) {}\n\n  korisnik : Korisnik = new Korisnik()\n  ucenik : Ucenik = new Ucenik()\n\n  ucenikObavestenja : Obavestenje[] =[]\n\n  ngOnInit(): void {\n    let logovani = localStorage.getItem(\"logovaniKorisnik\")\n    if (logovani != null) {\n      this.korisnik = JSON.parse(logovani);\n      this.dohvatiUcenika(this.korisnik)\n    }\n  }\n\n  dohvatiUcenika(k : Korisnik) {\n    this.ucenikService.dohvatiUcenika(k).subscribe(\n      data => {\n        if (data != null) {\n          this.ucenik = data;\n          this.dohvatiObavestenjaZaUcenika();\n        }\n      }\n    )\n  }\n\n  dohvatiObavestenjaZaUcenika() {\n    this.ucenikService.dohvatiObavestenjaZaUcenika(this.ucenik.korIme).subscribe(\n      data => {\n        if (data != null) {\n          this.ucenikObavestenja = data\n        }\n      }\n    )\n  }\n\n  promeniStatusObavestenjaUBazi(o : Obavestenje) {\n    this.ucenikService.promeniStatusObavestenjaUBazi(o).subscribe(\n      data => {\n        if (data != null) {\n          console.log(\"Izmenjen status obavestenja. \")\n        }\n        else {\n          console.log(\"Greska. \")\n        }\n      }\n    )\n  }\n\n\n  profilStr(event : Event) {\n    event.preventDefault()\n    localStorage.setItem(\"logovaniKorisnik\", JSON.stringify(this.korisnik))\n    this.router.navigate(['ucenikProfil'])\n  }\n\n  nastavniciStr(event : Event) {\n    event.preventDefault()\n    localStorage.setItem(\"logovaniKorisnik\", JSON.stringify(this.korisnik))\n    this.router.navigate(['ucenikNastavnici'])\n  }\n\n  casoviStr(event : Event) {\n    event.preventDefault()\n    localStorage.setItem(\"logovaniKorisnik\", JSON.stringify(this.korisnik))\n    this.router.navigate(['ucenikCasovi'])\n  }\n\n  obavestenjaStr(event : Event) {\n    event.preventDefault()\n    localStorage.setItem(\"logovaniKorisnik\", JSON.stringify(this.korisnik))\n    this.router.navigate(['ucenikObavestenja'])\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}